// 字母筆順數據
const letterStrokes = {
    'A': {
        upper: [
            [{x: 250, y: 350}, {x: 200, y: 100}], // 左斜線
            [{x: 250, y: 350}, {x: 300, y: 100}], // 右斜線
            [{x: 225, y: 225}, {x: 275, y: 225}]  // 橫線
        ],
        lower: [
            [{x: 280, y: 200}, {x: 300, y: 180}, {x: 320, y: 200}, {x: 320, y: 280}, {x: 300, y: 300}, {x: 220, y: 300}, {x: 200, y: 280}, {x: 200, y: 240}], // o形部分
            [{x: 320, y: 240}, {x: 320, y: 340}] // 右側直線
        ]
    },
    'B': {
        upper: [
            [{x: 200, y: 100}, {x: 200, y: 350}], // 左側直線
            [{x: 200, y: 100}, {x: 280, y: 100}, {x: 320, y: 130}, {x: 320, y: 190}, {x: 280, y: 220}, {x: 200, y: 220}], // 上半部
            [{x: 200, y: 220}, {x: 300, y: 220}, {x: 340, y: 250}, {x: 340, y: 320}, {x: 300, y: 350}, {x: 200, y: 350}] // 下半部
        ],
        lower: [
            [{x: 200, y: 80}, {x: 200, y: 340}], // 左側直線
            [{x: 200, y: 180}, {x: 260, y: 180}, {x: 300, y: 200}, {x: 300, y: 240}, {x: 260, y: 260}, {x: 200, y: 260}], // 上半圓
            [{x: 200, y: 260}, {x: 280, y: 260}, {x: 320, y: 280}, {x: 320, y: 320}, {x: 280, y: 340}, {x: 200, y: 340}] // 下半圓
        ]
    },
    'C': {
        upper: [
            [{x: 350, y: 150}, {x: 320, y: 100}, {x: 250, y: 100}, {x: 200, y: 150}, {x: 200, y: 300}, {x: 250, y: 350}, {x: 320, y: 350}, {x: 350, y: 300}]
        ],
        lower: [
            [{x: 320, y: 200}, {x: 280, y: 180}, {x: 220, y: 180}, {x: 180, y: 220}, {x: 180, y: 280}, {x: 220, y: 320}, {x: 280, y: 320}, {x: 320, y: 300}]
        ]
    },
    'D': {
        upper: [
            [{x: 200, y: 100}, {x: 200, y: 350}], // 左側直線
            [{x: 200, y: 100}, {x: 280, y: 100}, {x: 350, y: 150}, {x: 350, y: 300}, {x: 280, y: 350}, {x: 200, y: 350}] // 右側弧線
        ],
        lower: [
            [{x: 320, y: 80}, {x: 320, y: 340}], // 右側直線
            [{x: 180, y: 200}, {x: 220, y: 180}, {x: 280, y: 180}, {x: 320, y: 200}, {x: 320, y: 280}, {x: 280, y: 300}, {x: 220, y: 300}, {x: 180, y: 280}, {x: 180, y: 200}] // 左側圓形
        ]
    },
    'E': {
        upper: [
            [{x: 200, y: 100}, {x: 200, y: 350}], // 左側直線
            [{x: 200, y: 100}, {x: 350, y: 100}], // 上橫線
            [{x: 200, y: 225}, {x: 320, y: 225}], // 中橫線
            [{x: 200, y: 350}, {x: 350, y: 350}]  // 下橫線
        ],
        lower: [
            [{x: 320, y: 200}, {x: 280, y: 180}, {x: 220, y: 180}, {x: 180, y: 200}, {x: 180, y: 220}, {x: 220, y: 240}, {x: 300, y: 240}], // 上半部
            [{x: 180, y: 220}, {x: 180, y: 280}, {x: 220, y: 320}, {x: 280, y: 320}, {x: 320, y: 300}] // 下半部
        ]
    },
    'F': {
        upper: [
            [{x: 200, y: 100}, {x: 200, y: 350}], // 左側直線
            [{x: 200, y: 100}, {x: 350, y: 100}], // 上橫線
            [{x: 200, y: 225}, {x: 320, y: 225}]  // 中橫線
        ],
        lower: [
            [{x: 180, y: 80}, {x: 180, y: 340}], // 主直線
            [{x: 180, y: 80}, {x: 280, y: 80}], // 上橫線
            [{x: 180, y: 200}, {x: 250, y: 200}] // 中橫線
        ]
    },
    'G': {
        upper: [
            [{x: 350, y: 150}, {x: 320, y: 100}, {x: 250, y: 100}, {x: 200, y: 150}, {x: 200, y: 300}, {x: 250, y: 350}, {x: 320, y: 350}, {x: 350, y: 300}], // C形部分
            [{x: 350, y: 225}, {x: 300, y: 225}], // 內橫線
            [{x: 350, y: 225}, {x: 350, y: 300}]  // 內直線
        ],
        lower: [
            [{x: 320, y: 180}, {x: 280, y: 160}, {x: 220, y: 160}, {x: 180, y: 200}, {x: 180, y: 340}, {x: 200, y: 360}], // 主體
            [{x: 320, y: 200}, {x: 280, y: 180}, {x: 220, y: 180}, {x: 180, y: 220}, {x: 180, y: 260}, {x: 220, y: 300}, {x: 280, y: 300}, {x: 320, y: 280}, {x: 320, y: 240}] // 內圓
        ]
    },
    'H': {
        upper: [
            [{x: 200, y: 100}, {x: 200, y: 350}], // 左側直線
            [{x: 350, y: 100}, {x: 350, y: 350}], // 右側直線
            [{x: 200, y: 225}, {x: 350, y: 225}]  // 橫線
        ],
        lower: [
            [{x: 180, y: 80}, {x: 180, y: 340}], // 左側直線
            [{x: 180, y: 200}, {x: 220, y: 180}, {x: 280, y: 180}, {x: 320, y: 200}, {x: 320, y: 340}] // 右側部分
        ]
    },
    'I': {
        upper: [
            [{x: 200, y: 100}, {x: 350, y: 100}], // 上橫線
            [{x: 275, y: 100}, {x: 275, y: 350}], // 中間直線
            [{x: 200, y: 350}, {x: 350, y: 350}]  // 下橫線
        ],
        lower: [
            [{x: 220, y: 120}, {x: 260, y: 120}], // 上點
            [{x: 240, y: 180}, {x: 240, y: 340}]  // 主直線
        ]
    },
    'J': {
        upper: [
            [{x: 200, y: 100}, {x: 350, y: 100}], // 上橫線
            [{x: 325, y: 100}, {x: 325, y: 300}, {x: 275, y: 350}, {x: 225, y: 350}, {x: 200, y: 325}] // J形曲線
        ],
        lower: [
            [{x: 220, y: 120}, {x: 260, y: 120}], // 上點
            [{x: 240, y: 180}, {x: 240, y: 300}, {x: 220, y: 340}, {x: 180, y: 340}, {x: 160, y: 320}] // j形曲線
        ]
    },
    'K': {
        upper: [
            [{x: 200, y: 100}, {x: 200, y: 350}], // 左側直線
            [{x: 350, y: 100}, {x: 200, y: 225}], // 上斜線
            [{x: 250, y: 200}, {x: 350, y: 350}]  // 下斜線
        ],
        lower: [
            [{x: 180, y: 80}, {x: 180, y: 340}], // 左側直線
            [{x: 300, y: 180}, {x: 180, y: 240}], // 上斜線
            [{x: 220, y: 220}, {x: 300, y: 340}]  // 下斜線
        ]
    },
    'L': {
        upper: [
            [{x: 200, y: 100}, {x: 200, y: 350}], // 直線
            [{x: 200, y: 350}, {x: 350, y: 350}]  // 橫線
        ],
        lower: [
            [{x: 240, y: 80}, {x: 240, y: 340}] // 直線
        ]
    },
    'M': {
        upper: [
            [{x: 200, y: 350}, {x: 200, y: 100}], // 左側直線
            [{x: 200, y: 100}, {x: 275, y: 225}], // 左斜線
            [{x: 275, y: 225}, {x: 350, y: 100}], // 右斜線
            [{x: 350, y: 100}, {x: 350, y: 350}]  // 右側直線
        ],
        lower: [
            [{x: 180, y: 340}, {x: 180, y: 180}], // 左側直線
            [{x: 180, y: 180}, {x: 200, y: 160}, {x: 220, y: 180}, {x: 220, y: 220}, {x: 240, y: 200}, {x: 260, y: 220}, {x: 260, y: 180}, {x: 280, y: 160}, {x: 300, y: 180}], // 雙拱
            [{x: 300, y: 180}, {x: 300, y: 340}] // 右側直線
        ]
    },
    'N': {
        upper: [
            [{x: 200, y: 350}, {x: 200, y: 100}], // 左側直線
            [{x: 200, y: 100}, {x: 350, y: 350}], // 斜線
            [{x: 350, y: 350}, {x: 350, y: 100}]  // 右側直線
        ],
        lower: [
            [{x: 180, y: 340}, {x: 180, y: 180}], // 左側直線
            [{x: 180, y: 180}, {x: 200, y: 160}, {x: 220, y: 180}, {x: 220, y: 340}] // 右側部分
        ]
    },
    'O': {
        upper: [
            [{x: 275, y: 100}, {x: 320, y: 130}, {x: 350, y: 200}, {x: 350, y: 250}, {x: 320, y: 320}, {x: 275, y: 350}, {x: 225, y: 350}, {x: 180, y: 320}, {x: 150, y: 250}, {x: 150, y: 200}, {x: 180, y: 130}, {x: 225, y: 100}, {x: 275, y: 100}]
        ],
        lower: [
            [{x: 260, y: 180}, {x: 300, y: 200}, {x: 320, y: 240}, {x: 320, y: 280}, {x: 300, y: 320}, {x: 260, y: 340}, {x: 220, y: 340}, {x: 180, y: 320}, {x: 160, y: 280}, {x: 160, y: 240}, {x: 180, y: 200}, {x: 220, y: 180}, {x: 260, y: 180}]
        ]
    },
    'P': {
        upper: [
            [{x: 200, y: 100}, {x: 200, y: 350}], // 左側直線
            [{x: 200, y: 100}, {x: 300, y: 100}, {x: 350, y: 130}, {x: 350, y: 190}, {x: 300, y: 225}, {x: 200, y: 225}] // 上半部
        ],
        lower: [
            [{x: 180, y: 80}, {x: 180, y: 340}], // 左側直線
            [{x: 180, y: 180}, {x: 220, y: 160}, {x: 280, y: 160}, {x: 320, y: 180}, {x: 320, y: 220}, {x: 280, y: 240}, {x: 180, y: 240}] // 上半圓
        ]
    },
    'Q': {
        upper: [
            [{x: 275, y: 100}, {x: 320, y: 130}, {x: 350, y: 200}, {x: 350, y: 250}, {x: 320, y: 320}, {x: 275, y: 350}, {x: 225, y: 350}, {x: 180, y: 320}, {x: 150, y: 250}, {x: 150, y: 200}, {x: 180, y: 130}, {x: 225, y: 100}, {x: 275, y: 100}], // O形
            [{x: 300, y: 300}, {x: 350, y: 350}] // 尾巴
        ],
        lower: [
            [{x: 260, y: 180}, {x: 300, y: 200}, {x: 320, y: 240}, {x: 320, y: 280}, {x: 300, y: 320}, {x: 260, y: 340}, {x: 220, y: 340}, {x: 180, y: 320}, {x: 160, y: 280}, {x: 160, y: 240}, {x: 180, y: 200}, {x: 220, y: 180}, {x: 260, y: 180}], // o形
            [{x: 280, y: 300}, {x: 320, y: 360}] // 尾巴
        ]
    },
    'R': {
        upper: [
            [{x: 200, y: 100}, {x: 200, y: 350}], // 左側直線
            [{x: 200, y: 100}, {x: 300, y: 100}, {x: 350, y: 130}, {x: 350, y: 190}, {x: 300, y: 225}, {x: 200, y: 225}], // 上半部
            [{x: 275, y: 225}, {x: 350, y: 350}] // 右下斜線
        ],
        lower: [
            [{x: 180, y: 340}, {x: 180, y: 180}], // 左側直線
            [{x: 180, y: 180}, {x: 200, y: 160}, {x: 220, y: 180}, {x: 220, y: 240}] // 右側部分
        ]
    },
    'S': {
        upper: [
            [{x: 350, y: 150}, {x: 320, y: 100}, {x: 230, y: 100}, {x: 200, y: 130}, {x: 200, y: 180}, {x: 230, y: 210}, {x: 320, y: 240}, {x: 350, y: 270}, {x: 350, y: 320}, {x: 320, y: 350}, {x: 230, y: 350}, {x: 200, y: 320}]
        ],
        lower: [
            [{x: 320, y: 200}, {x: 280, y: 180}, {x: 220, y: 180}, {x: 180, y: 200}, {x: 180, y: 220}, {x: 200, y: 240}, {x: 280, y: 260}, {x: 320, y: 280}, {x: 320, y: 300}, {x: 280, y: 320}, {x: 220, y: 320}, {x: 180, y: 300}]
        ]
    },
    'T': {
        upper: [
            [{x: 150, y: 100}, {x: 350, y: 100}], // 上橫線
            [{x: 250, y: 100}, {x: 250, y: 350}]  // 中間直線
        ],
        lower: [
            [{x: 200, y: 120}, {x: 300, y: 120}], // 上橫線
            [{x: 250, y: 120}, {x: 250, y: 340}]  // 直線
        ]
    },
    'U': {
        upper: [
            [{x: 200, y: 100}, {x: 200, y: 300}, {x: 230, y: 350}, {x: 320, y: 350}, {x: 350, y: 300}, {x: 350, y: 100}]
        ],
        lower: [
            [{x: 180, y: 180}, {x: 180, y: 280}, {x: 200, y: 320}, {x: 240, y: 340}, {x: 280, y: 340}, {x: 320, y: 320}, {x: 320, y: 180}]
        ]
    },
    'V': {
        upper: [
            [{x: 200, y: 100}, {x: 275, y: 350}], // 左斜線
            [{x: 350, y: 100}, {x: 275, y: 350}]  // 右斜線
        ],
        lower: [
            [{x: 180, y: 180}, {x: 240, y: 320}], // 左斜線
            [{x: 300, y: 180}, {x: 240, y: 320}]  // 右斜線
        ]
    },
    'W': {
        upper: [
            [{x: 180, y: 100}, {x: 220, y: 350}], // 左斜線
            [{x: 220, y: 350}, {x: 250, y: 250}], // 左內斜線
            [{x: 250, y: 250}, {x: 280, y: 350}], // 右內斜線
            [{x: 280, y: 350}, {x: 320, y: 100}]  // 右斜線
        ],
        lower: [
            [{x: 160, y: 180}, {x: 200, y: 320}], // 左斜線
            [{x: 200, y: 320}, {x: 240, y: 240}], // 左內斜線
            [{x: 240, y: 240}, {x: 280, y: 320}], // 右內斜線
            [{x: 280, y: 320}, {x: 320, y: 180}]  // 右斜線
        ]
    },
    'Z': {
        upper: [
            [{x: 200, y: 100}, {x: 350, y: 100}], // 上橫線
            [{x: 350, y: 100}, {x: 200, y: 350}], // 斜線
            [{x: 200, y: 350}, {x: 350, y: 350}]  // 下橫線
        ],
        lower: [
            [{x: 180, y: 180}, {x: 320, y: 180}], // 上橫線
            [{x: 320, y: 180}, {x: 180, y: 320}], // 斜線
            [{x: 180, y: 320}, {x: 320, y: 320}]  // 下橫線
        ]
    }
};

// 字母列表（24個字母）
const letters = 'ABCDEFGHIJKLMNOPQRSTUVWZ'.split('');

// 獲取字母的筆順數據
function getLetterStrokes(letter, caseType) {
    if (letterStrokes[letter] && letterStrokes[letter][caseType]) {
        return letterStrokes[letter][caseType];
    }
    return [];
}

// 獲取字母的最少筆劃數
function getMinStrokes(letter) {
    const strokeCount = {
        'A': 3, 'B': 3, 'C': 1, 'D': 2, 'E': 4, 'F': 3,
        'G': 3, 'H': 3, 'I': 3, 'J': 2, 'K': 3, 'L': 2,
        'M': 4, 'N': 3, 'O': 1, 'P': 2, 'Q': 2, 'R': 3,
        'S': 1, 'T': 2, 'U': 1, 'V': 2, 'W': 4, 'Z': 3
    };
    return strokeCount[letter] || 1;
}

// 計算兩點間距離
function calculateDistance(p1, p2) {
    return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));
}

// 計算筆劃長度
function calculateStrokeLength(stroke) {
    let length = 0;
    for (let i = 1; i < stroke.length; i++) {
        length += calculateDistance(stroke[i-1], stroke[i]);
    }
    return length;
}

